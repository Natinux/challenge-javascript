"use strict";var app=angular.module("challengeApp",["ngResource","ngRoute"]);app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/vehicle.html",controller:"VehicleController"}).otherwise({redirectTo:"/"})}]),app.controller("VehicleController",["$scope","initialData","colors","fuels","brands",function(a,b,c,d,e){a.cars=b,a.colors=c,a.fuels=d,a.brands=e,a.carsModels={},a.car={},a.currentPage=0,a.pageSize=5,a.registrationPlateError,a.brandError,a.modelError=!1,a.editBtn=!1,a.getCars=function(){return delete a.car.model,a.carsModels=null!==a.car.brand?a.car.brand.models:"",a.carsModels},a.getImage=function(){return a.car.image},a.deleteCar=function(b){a.cars.splice(b,1)},a.cancel=function(){a.editBtn=!1,document.getElementById("vehicle-form").reset()},a.save=function(){a.registrationPlateError=a.car.registrationPlate?!1:!0,a.brandError=a.car.brand?!1:!0,a.modelError=a.car.brand?!1:!0,a.car.brand&&(a.modelError=a.car.model?!1:!0),this.brandError||this.modelError||this.registrationPlateError||(a.car=null)},a.editCar=function(b){a.editBtn=!0,console.log(a.cars[b]),a.car.registrationPlate=a.cars[b].registrationPlate,a.car.image=a.cars[b].image,a.car.brand=a.cars[b].brand,a.car.model=a.cars[b].model,a.car.color=a.cars[b].color,a.car.fuel=a.cars[b].fuel,a.save(b)},a.add=function(){a.registrationPlateError=a.car.registrationPlate?!1:!0,a.brandError=a.car.brand?!1:!0,a.modelError=a.car.brand?!1:!0,a.car.brand&&(a.modelError=a.car.model?!1:!0),this.brandError||this.modelError||this.registrationPlateError||(a.cars.push({fuel:a.car.fuel,image:a.getImage(),brand:a.car.brand.name,model:a.car.model,registrationPlate:a.car.registrationPlate,color:a.car.color}),a.car=null)},a.numberOfPages=function(){return Math.ceil(a.cars.length/a.pageSize)},console.log(Math.floor(1e3*Math.random(0,100))),console.log("-----"),console.log(a)}]),app.factory("initialData",function(){var a={};return a=[{fuel:"Flex",image:null,brand:"Volkswagen",model:"Gol",registrationPlate:"FFF­-5498",color:"Prata"},{fuel:"Gasolina",image:null,brand:"Volkswagen",model:"Fox",registrationPlate:"FOX­-4125",color:"Preto"},{fuel:"Alcool",image:"http://www.sindicond.com.br/sindicond/files/noticia/new/volkswagen-fusca-1363209555530_956x500.jpg",brand:"Volkswagen",model:"Fusca",registrationPlate:"PAI­-4121",color:"Azul"}]}),app.factory("colors",function(){var a={};return a=["Amarelo","Azul","Branco","Cinza","Laranja","Marrom","Prata","Preto","Rosa","Roxo","Verde","Vermelho"]}),app.factory("fuels",function(){var a={};return a=["Flex","Alcool","Gasolina"]}),app.factory("brands",function(){var a={};return a=[{name:"Ford",models:["Ecosport","Fiesta","Ranger"]},{name:"Chevrolet",models:["Corsa","Prisma","Corsa Classic","S10"]},{name:"Honda",models:["Accord","Civic","City","Fit"]},{name:"Volkswagen",models:["Fox","Fusca","Gol"]}]}),app.filter("startFrom",function(){return function(a,b){return b=+b,a.slice(b)}}),app.filter("thumb",function(){return function(a,b){if(a)return a;switch(b.brand){case"Volkswagen":return"http://www.garrabh.com.br/blog/wp-content/uploads/2014/03/volkswagen-logo.jpg";case"Honda":return"http://www.zeroto60times.com/blog/wp-content/uploads/2013/02/honda-cars-logo-emblem.jpg";case"Ford":return"http://img3.wikia.nocookie.net/__cb20100509162540/blurgame/images/1/1c/Ford.png";case"Chevrolet":return"http://mkalty.org/wp-content/uploads/2014/03/Chevrolet-Logo-HD-Wallpaper.jpg";default:return"http://www.exchange3d.com/images/uploads/aff1884/Generic_Car_Upper_01.jpg"}}});